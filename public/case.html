<html>
<head>
	<title>#case</title>
	<script src="bower_components/socket.io-client/socket.io.js"></script>
	<script src="bower_components/jquery/dist/jquery.min.js"></script>
	<script src="bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
	<script src="bower_components/underscore/underscore-min.js"></script>
	<script src="bower_components/backbone/backbone.js"></script>
	<link rel="stylesheet" href="bower_components/bootstrap/dist/css/bootstrap.min.css">
	<link rel="stylesheet" href="bower_components/growl/stylesheets/jquery.growl.css">
	<script src="bower_components/growl/javascripts/jquery.growl.js"></script>
</head>
<body>
	<script>
	  function send(){
		  $.ajax({
		      url: '/chat',
		      type: 'PUT',
		      contentType: 'application/json',
		      data: JSON.stringify({from:"Anonymous",msg:$('#txtmsg').val()}) 
		  });
	  }
	</script>
	<div class="container">
		<div class="row-fluid">
			<h1>#case</h1>
			<input class="col-lg-5" type="text" id="txtmsg"/>
			<button onclick="send()" class="col-lg-1">Send</button>
		</div>
	</div>
	<script>
	  var caseSock = io('http://localhost:1337');
	  caseSock.on('connect',function(){
	 	console.log("connected");
		  caseSock.emit("login","#case");
	  });  
	  caseSock.on('msg', function (data) {
		  var msg = {title:("<strong>"+data.from+"</strong>: "),message:data.msg,
		  	offset: 20,
			placement: {
					from: "bottom",
					align: "left"
				},
			animate: {
					enter: 'animated fadeInDown',
					exit: 'animated fadeOutUp'
				},};
		  console.log(JSON.stringify("#case MSG: "+JSON.stringify(msg)));
		  $.growl(msg);
	      });
	</script>
</body>
</html>
